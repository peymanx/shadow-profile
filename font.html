<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8" />
<title>نمایش فونت‌ها و تحلیل جدول</title>
<style>
  body {
    font-family: Arial;
    padding: 20px;
    direction: rtl;
    background: #fff;
    color: #222;
  }

  h1 {
    font-size: 3.5rem;
    margin-bottom: 20px;
    text-align: center;
    font-weight: 700;
    color: #111;
    font-family: 'Irannastaliq';
  }

  /* جدول نمونه فونت ها */
  table.font-samples {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 40px;
    border: 1px solid #444;
  }

  table.font-samples th, table.font-samples td {
    padding: 12px 15px;
    border-bottom: 1px solid #444;
    text-align: center;
    color: #222;
  }

  table.font-samples thead {
    background-color: #ddd;
    font-weight: 700;
    font-size: 1.1rem;
    color: #111;
  }

  table.font-samples tbody tr:nth-child(odd) {
    background-color: #f9f9f9;
  }

  table.font-samples tbody tr:nth-child(even) {
    background-color: #e6e6e6;
  }

  /* فونت‌ها برای نمونه‌ها و اندازه بزرگ‌تر متن */
  .arial { font-family: Arial, sans-serif; }
  .tahoma { font-family: Tahoma, sans-serif; }
  .verdana { font-family: Verdana, sans-serif; }
  .b-titr { font-family: 'B Titr', sans-serif; }
  .sans { font-family: sans-serif; }
  .georgia { font-family: Georgia, serif; }
  .courier { font-family: 'Courier New', monospace; }
  .times { font-family: 'Times New Roman', serif; }
  .fake { font-family: 'MyFakeFont', sans-serif; }

  .arial, .tahoma, .verdana, .b-titr, 
  .georgia, .courier, .times, .sans, .fake {
      font-size: 32px;
  }

  /* جدول تحلیل به سبک لاگ */
  table#font-table {
    width: 100%;
    border-collapse: collapse;
    font-family: 'Courier New', monospace;
    background: #222;
    color: #eee;
    border-radius: 6px;
    overflow: hidden;
  }

  #font-table th {
    background-color: #444;
    font-weight: 700;
    padding: 10px;
    text-align: center;
  }

  #font-table td {
    padding: 10px;
    border-bottom: 1px solid #444;
    text-align: center;
  }

  #font-table tbody tr:nth-child(odd) {
    background-color: #2a2a2a;
  }

  #font-table tbody tr:nth-child(even) {
    background-color: #1e1e1e;
  }

  /* وضعیت نصب */
  .installed {
    color: #7fdb7f; /* سبز ملایم */
    font-weight: 600;
  }

  .not-installed {
    color: #ff6f6f; /* قرمز ملایم */
    font-weight: 600;
  }

  /* تحلیل کوتاه */
  .analysis {
    font-style: normal;
    font-size: 0.9rem;
    color: #ccc;
  }
</style>
</head>
<body>

<h1>نمونه فونت‌ها و تحلیل نصب</h1>

<table class="font-samples" aria-label="نمونه فونت‌ها">
  <thead>
    <tr>
      <th>متن فارسی</th>
      <th>نام فونت</th>
    </tr>
  </thead>
  <tbody>
    <tr><td class="arial">سلام به جهان</td><td class="arial">Arial</td></tr>
    <tr><td class="tahoma">سلام به جهان</td><td class="tahoma">Tahoma</td></tr>
    <tr><td class="verdana">سلام به جهان</td><td class="verdana">Verdana</td></tr>
    <tr><td class="b-titr">سلام به جهان</td><td class="b-titr">B Titr</td></tr>
    <tr><td class="georgia">سلام به جهان</td><td class="georgia">Georgia</td></tr>
    <tr><td class="sans">سلام به جهان</td><td class="sans">sans-serif</td></tr>
    <tr><td class="courier">سلام به جهان</td><td class="courier">Courier New</td></tr>
    <tr><td class="times">سلام به جهان</td><td class="times">Times New Roman</td></tr>
    <tr><td class="fake">سلام به جهان</td><td class="fake">MyFakeFont</td></tr>
  </tbody>
</table>

<table id="font-table" aria-label="تحلیل نصب فونت‌ها">
  <thead>
    <tr>
      <th>فونت</th>
      <th>وضعیت</th>
      <th>عرض متن</th>
      <th>ارتفاع متن</th>
      <th>عرض پیش‌فرض</th>
      <th>تحلیل</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<script>
function getTextSize(font) {
  const canvas = document.createElement('canvas');
  const ctx = canvas.getContext('2d');
  const text = "سلام به جهان";

  // اندازه متن با فونت مورد نظر
  ctx.font = `72px '${font}', monospace`;
  const metrics = ctx.measureText(text);

  const width = metrics.width;
  const height = (metrics.actualBoundingBoxAscent || 0) + (metrics.actualBoundingBoxDescent || 0);

  // عرض پیش‌فرض برای مقایسه نصب بودن
  ctx.font = '72px monospace';
  const defaultWidth = ctx.measureText(text).width;

  const installed = width !== defaultWidth;

  return { installed, width, height, defaultWidth };
}

const fonts = ['Arial', 'Tahoma', 'Verdana', 'B Titr', 'Georgia', 'sans-serif', 'Courier New', 'Times New Roman', 'MyFakeFont'];
const tbody = document.querySelector('#font-table tbody');

fonts.forEach(f => {
  const result = getTextSize(f);
  const tr = document.createElement('tr');

  tr.className = result.installed ? 'installed' : 'not-installed';

  const analysis = result.installed 
    ? 'نرمال' 
    : 'فونت نصب نیست';

  tr.innerHTML = `
    <td>${f}</td>
    <td>${result.installed ? '✔️' : '⚠️'}</td>
    <td>${result.width.toFixed(2)}</td>
    <td>${result.height.toFixed(2)}</td>
    <td>${result.defaultWidth.toFixed(2)}</td>
    <td class="analysis">${analysis}</td>
  `;

  tbody.appendChild(tr);
});
</script>

</body>
</html>
